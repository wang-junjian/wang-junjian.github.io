---
layout: single
title:  "Difyï¼šå¼€æº LLM åº”ç”¨å¼€å‘å¹³å°"
date:   2025-06-10 10:00:00 +0800
categories: Dify LLMOps
tags: [Dify, LLMOps, å·¥ä½œæµ, SiliconFlow, LLM, macOS]
---

Dify æ˜¯ä¸€ä¸ªå¼€æºçš„ LLM åº”ç”¨å¼€å‘å¹³å°ã€‚å…¶ç›´è§‚çš„ç•Œé¢ç»“åˆäº† AI å·¥ä½œæµã€RAG ç®¡é“ã€Agentã€æ¨¡å‹ç®¡ç†ã€å¯è§‚æµ‹æ€§åŠŸèƒ½ç­‰ï¼Œè®©æ‚¨å¯ä»¥å¿«é€Ÿä»åŸå‹åˆ°ç”Ÿäº§ã€‚

<!--more-->

## å®‰è£…

### å…‹éš†ä»£ç ä»“åº“
```bash
git clone https://github.com/langgenius/dify
```

### Docker éƒ¨ç½²

Dify æä¾›äº† Docker éƒ¨ç½²æ–¹å¼ï¼Œæ‚¨å¯ä»¥é€šè¿‡ä»¥ä¸‹æ­¥éª¤å¿«é€Ÿéƒ¨ç½²ï¼š

```bash
cd dify
cd docker
cp .env.example .env
docker compose up -d
```

è¿è¡Œåï¼Œå¯ä»¥åœ¨æµè§ˆå™¨ä¸Šè®¿é—® [http://localhost/install](http://localhost/install) è¿›å…¥ Dify æ§åˆ¶å°å¹¶å¼€å§‹åˆå§‹åŒ–å®‰è£…æ“ä½œã€‚

![](/images/2025/Dify/install.png)

### è‡ªå®šä¹‰é…ç½®

å¦‚æœæ‚¨éœ€è¦è‡ªå®šä¹‰é…ç½®ï¼Œè¯·å‚è€ƒ [.env.example](https://github.com/langgenius/dify/blob/main/docker/.env.example) æ–‡ä»¶ä¸­çš„æ³¨é‡Šï¼Œå¹¶æ›´æ–° `.env` æ–‡ä»¶ä¸­å¯¹åº”çš„å€¼ã€‚æ­¤å¤–ï¼Œæ‚¨å¯èƒ½éœ€è¦æ ¹æ®æ‚¨çš„å…·ä½“éƒ¨ç½²ç¯å¢ƒå’Œéœ€æ±‚å¯¹ `docker-compose.yaml` æ–‡ä»¶æœ¬èº«è¿›è¡Œè°ƒæ•´ï¼Œä¾‹å¦‚æ›´æ”¹é•œåƒç‰ˆæœ¬ã€ç«¯å£æ˜ å°„æˆ–å·æŒ‚è½½ã€‚å®Œæˆä»»ä½•æ›´æ”¹åï¼Œè¯·é‡æ–°è¿è¡Œ `docker-compose up -d`ã€‚æ‚¨å¯ä»¥åœ¨[æ­¤å¤„](https://docs.dify.ai/getting-started/install-self-hosted/environments)æ‰¾åˆ°å¯ç”¨ç¯å¢ƒå˜é‡çš„å®Œæ•´åˆ—è¡¨ã€‚

### æœåŠ¡é•œåƒ

#### æ ¸å¿ƒé•œåƒï¼ˆå¿…éœ€ï¼‰

```bash
# æ ¸å¿ƒæœåŠ¡
docker pull langgenius/dify-api:1.4.1          # API æœåŠ¡
docker pull langgenius/dify-web:1.4.1          # å‰ç«¯ Web æœåŠ¡
docker pull postgres:15-alpine                 # PostgreSQL æ•°æ®åº“
docker pull redis:6-alpine                     # Redis ç¼“å­˜
docker pull langgenius/dify-sandbox:0.2.12     # ä»£ç æ²™ç›’ç¯å¢ƒ
docker pull langgenius/dify-plugin-daemon:0.1.1-local  # æ’ä»¶å®ˆæŠ¤è¿›ç¨‹
docker pull ubuntu/squid:latest                # SSRF ä»£ç†
docker pull nginx:latest                       # Nginx åå‘ä»£ç†
docker pull semitechnologies/weaviate:1.19.0   # é»˜è®¤å‘é‡æ•°æ®åº“ (Weaviate)
```

#### å®Œæ•´é•œåƒ

```bash
#!/bin/bash

# æœ€å°åŒ–å®‰è£…é•œåƒï¼ˆå¿…éœ€ç»„ä»¶ï¼‰
docker pull langgenius/dify-api:1.4.1
docker pull langgenius/dify-web:1.4.1
docker pull postgres:15-alpine
docker pull redis:6-alpine
docker pull langgenius/dify-sandbox:0.2.12
docker pull langgenius/dify-plugin-daemon:0.1.1-local
docker pull ubuntu/squid:latest
docker pull nginx:latest
docker pull semitechnologies/weaviate:1.19.0

# ----------------------------
# å¯é€‰ç»„ä»¶ï¼ˆæŒ‰éœ€ä¸‹è½½ï¼‰
# ----------------------------

# å‘é‡æ•°æ®åº“å¤‡é€‰æ–¹æ¡ˆ
docker pull langgenius/qdrant:v1.7.3                  # Qdrant
docker pull pgvector/pgvector:pg16                    # PGVector
docker pull tensorchord/pgvecto-rs:pg16-v0.3.0        # PGVector.rs
docker pull ghcr.io/chroma-core/chroma:0.5.20         # Chroma
docker pull milvusdb/milvus:v2.5.0-beta               # Milvus
docker pull opensearchproject/opensearch:latest       # OpenSearch
docker pull opensearchproject/opensearch-dashboards:latest
docker pull opengauss/opengauss:7.0.0-RC1             # OpenGauss
docker pull myscale/myscaledb:1.6.4                   # MyScale
docker pull docker.elastic.co/elasticsearch/elasticsearch:8.14.3
docker pull docker.elastic.co/kibana/kibana:8.14.3

# å…¶ä»–æ•°æ®åº“
docker pull oceanbase/oceanbase-ce:4.3.5.1-101000042025031818  # OceanBase
docker pull container-registry.oracle.com/database/free:latest # Oracle

# æ–‡ä»¶å¤„ç†
docker pull downloads.unstructured.io/unstructured-io/unstructured-api:latest  # Unstructured

# åŸºç¡€è®¾æ–½
docker pull quay.io/coreos/etcd:v3.5.5               # Milvus ä¾èµ–
docker pull minio/minio:RELEASE.2023-03-20T20-16-18Z # Milvus ä¾èµ–
docker pull certbot/certbot                          # SSL è¯ä¹¦ç®¡ç†
```

å°†æ­¤è„šæœ¬ä¿å­˜ä¸º `pull-dify-images.sh`ï¼Œè¿è¡Œ `chmod +x pull-dify-images.sh && ./pull-dify-images.sh` å³å¯ä¸‹è½½æ‰€æœ‰é•œåƒã€‚

### å¯¼å‡ºå’Œå¯¼å…¥é•œåƒ

#### æ–¹æ³•ä¸€

- å°†é•œåƒå¯¼å‡ºä¸º tar æ–‡ä»¶
```bash
docker save -o dify-images.tar langgenius/dify-api:1.4.1 langgenius/dify-web:1.4.1 postgres:15-alpine redis:6-alpine langgenius/dify-sandbox:0.2.12 langgenius/dify-plugin-daemon:0.1.1-local ubuntu/squid:latest nginx:latest semitechnologies/weaviate:1.19.0
```

- åœ¨ç›®æ ‡æœåŠ¡å™¨ä¸Šå¯¼å…¥é•œåƒ
```bash
docker load -i dify-images.tar
```

#### æ–¹æ³•äºŒ

- å°†é•œåƒå¯¼å‡ºä¸º tar æ–‡ä»¶
```bash
docker save -o dify-api_1.4.1.tar langgenius/dify-api:1.4.1
docker save -o dify-web_1.4.1.tar langgenius/dify-web:1.4.1
docker save -o postgres_15-alpine.tar postgres:15-alpine
docker save -o redis_6-alpine.tar redis:6-alpine
docker save -o dify-sandbox_0.2.12.tar langgenius/dify-sandbox:0.2.12
docker save -o dify-plugin-daemon_0.1.1-local.tar langgenius/dify-plugin-daemon:0.1.1-local
docker save -o ubuntu-squid_latest.tar ubuntu/squid:latest
docker save -o nginx_latest.tar nginx:latest
docker save -o weaviate_1.19.0.tar semitechnologies/weaviate:1.19.0
```

- åœ¨ç›®æ ‡æœåŠ¡å™¨ä¸Šå¯¼å…¥é•œåƒ
```bash
docker load -i dify-api_1.4.1.tar
docker load -i dify-web_1.4.1.tar
docker load -i postgres_15-alpine.tar
docker load -i redis_6-alpine.tar
docker load -i dify-sandbox_0.2.12.tar
docker load -i dify-plugin-daemon_0.1.1-local.tar
docker load -i ubuntu-squid_latest.tar
docker load -i nginx_latest.tar
docker load -i weaviate_1.19.0.tar
```

### è®¿é—® Dify æ§åˆ¶å°

åœ¨æµè§ˆå™¨ä¸­è®¿é—® [http://localhost](http://localhost) å³å¯è¿›å…¥ Dify æ§åˆ¶å°ã€‚

![](/images/2025/Dify/workspace.png)


## è®¾ç½®

![](/images/2025/Dify/setting.png)

### æ¨¡å‹æä¾›å•†

- å®‰è£…`ç¡…åŸºæµåŠ¨`æ’ä»¶

![](/images/2025/Dify/setting-model-provider-siliconflow.png)

- è®¾ç½® API Key

![](/images/2025/Dify/setting-model-provider-siliconflow-apikey.png)

- è®¾ç½®ç³»ç»Ÿæ¨¡å‹

![](/images/2025/Dify/setting-model-provider-system-model-setting.png)


## å·¥ä½œå®¤

### Chatbot

![](/images/2025/Dify/chatbot-create.png)

![](/images/2025/Dify/chatbot-setting.png)

![](/images/2025/Dify/chatbot-preview.png)

### è¯­éŸ³åŠ©æ‰‹

#### åˆ›å»ºå·¥ä½œæµ
![](/images/2025/Dify/SpeechAssistant-create.png)

![](/images/2025/Dify/SpeechAssistant-workflow.png)

![](/images/2025/Dify/SpeechAssistant-setting.png)

#### å·¥ä½œæµè®¾ç½®

![](/images/2025/Dify/SpeechAssistant-workflow-1-start-setting.png)

![](/images/2025/Dify/SpeechAssistant-workflow-2-SpeechToText-setting.png)

![](/images/2025/Dify/SpeechAssistant-workflow-3-LLM-setting.png)

![](/images/2025/Dify/SpeechAssistant-workflow-4-TextToSpeech-setting.png)

![](/images/2025/Dify/SpeechAssistant-workflow-5-end-setting.png)

#### é¢„è§ˆ

![](/images/2025/Dify/SpeechAssistant-preview1.png)

![](/images/2025/Dify/SpeechAssistant-preview2.png)

![](/images/2025/Dify/SpeechAssistant-preview3.png)

#### å‘å¸ƒ

![](/images/2025/Dify/SpeechAssistant-publish.png)


## çŸ¥è¯†åº“

![](/images/2025/Dify/KnowledgeBase.png)

## å·¥å…·

![](/images/2025/Dify/tools.png)

## æ’ä»¶

![](/images/2025/Dify/plugins.png)


## Dify ğŸ† RAGFlow

| **ç»´åº¦**       | **Dify**                                                                 | **RAGFlow**                                                                 |
|--------------------|--------------------------------------------------------------------------|-----------------------------------------------------------------------------|
| **æ ¸å¿ƒå®šä½**       | ä½ä»£ç /é›¶ä»£ç  AI åº”ç”¨å¼€å‘å¹³å°ï¼Œæ”¯æŒå¤šæ¨¡å‹æ¥å…¥ï¼Œé€‚åˆå¿«é€Ÿæ„å»º AI åº”ç”¨ï¼ˆå¦‚æ™ºèƒ½å®¢æœã€æ–‡æ¡ˆç”Ÿæˆï¼‰ | ä¸“æ³¨äºæ£€ç´¢å¢å¼ºç”Ÿæˆï¼ˆRAGï¼‰ï¼Œæ“…é•¿å¤„ç†å¤æ‚æ–‡æ¡£ï¼ˆå¦‚ PDFã€æ‰«æä»¶ã€è¡¨æ ¼ï¼‰ï¼Œä¼˜åŒ–æ£€ç´¢ç²¾åº¦ä»¥å‡å°‘ AI å¹»è§‰ |
| **æ˜“ç”¨æ€§**         | ä½ä»£ç å¼€å‘ï¼Œé€‚åˆæ–°æ‰‹å¿«é€Ÿä¸Šæ‰‹                                 | å­¦ä¹ æ›²çº¿è¾ƒé™¡ï¼Œé€‚åˆæŠ€æœ¯å›¢é˜Ÿ                                      |
| **RAG èƒ½åŠ›**       | ä¾èµ–å¤–éƒ¨æ’ä»¶ï¼Œæä¾›åŸºç¡€ RAG æ”¯æŒ                              | æ·±åº¦é›†æˆ RAGï¼Œæ”¯æŒå¤šçº§æ£€ç´¢ä¼˜åŒ–ï¼ˆå‘é‡+å…¨æ–‡+å…³é”®è¯ï¼‰ï¼Œå‡å°‘å¹»è§‰ç‡ 35% |
| **æ¨¡å‹æ”¯æŒ**       | æ”¯æŒå¤šæ¨¡å‹ï¼ˆGPTã€Claudeã€æœ¬åœ°æ¨¡å‹ï¼‰                          | ä¾§é‡æœ¬åœ°æ¨¡å‹ï¼ˆå¦‚ DeepSeekï¼‰ï¼Œå¯çµæ´»é…ç½® LLM å’Œå‘é‡æ¨¡å‹          |
| **æµç¨‹ç¼–æ’**       | å¯è§†åŒ–å·¥ä½œæµï¼ˆçº¿æ€§é€»è¾‘ï¼‰                                     | æµç¨‹å›¾å¼å¤æ‚é€»è¾‘ï¼ˆæ”¯æŒå¾ªç¯/å¹¶è¡Œï¼‰                               |
| <nobr>**æ–‡æ¡£è§£æèƒ½åŠ›**   | æ”¯æŒåŸºç¡€æ–‡æ¡£æ ¼å¼ï¼ˆPDFã€Wordï¼‰ï¼ŒOCR å‡†ç¡®ç‡è¾ƒä½ï¼ˆæ‰«æä»¶ä»… 78%ï¼‰ | æ”¯æŒ 20+ æ ¼å¼ï¼ˆå«æ‰«æä»¶ã€è¡¨æ ¼ï¼‰ï¼Œæ™ºèƒ½åˆ†å—ç­–ç•¥ï¼Œè§£æå‡†ç¡®ç‡ >95% |
| **ä¼ä¸šçº§åŠŸèƒ½**     | å¼€æºç¤¾åŒºç‰ˆ + ä¼ä¸šæ‰©å±•åŠŸèƒ½                                    | å†…ç½®å®‰å…¨å®¡è®¡ã€æƒé™æ§åˆ¶ï¼Œæ”¯æŒåƒäº¿çº§ Token çŸ¥è¯†åº“                 |
| **éƒ¨ç½²ä¸æˆæœ¬**     | éƒ¨ç½²ç®€å•ï¼Œé€‚åˆäº‘æœåŠ¡æˆ–å°å‹ç§æœ‰åŒ–éƒ¨ç½²ï¼Œæˆæœ¬è¾ƒä½               | éœ€è¦è¾ƒé«˜é…ç½®ï¼ˆæ¨è 4 æ ¸ 16GB å†…å­˜ï¼‰ï¼Œé€‚åˆä¼ä¸šçº§é«˜è´Ÿè½½åœºæ™¯      |
| **é€‚ç”¨åœºæ™¯**       | å¿«é€Ÿæ­å»º AI åº”ç”¨ï¼ˆå¦‚å®¢æœæœºå™¨äººã€è¥é”€æ–‡æ¡ˆç”Ÿæˆï¼‰               | é«˜ç²¾åº¦æ–‡æ¡£å¤„ç†ï¼ˆå¦‚æ³•å¾‹åˆåŒè§£æã€åŒ»ç–—æŠ¥å‘Šåˆ†æï¼‰                 |
| **æ£€ç´¢ä¼˜åŒ–**       | ä¾èµ–ç¬¬ä¸‰æ–¹å‘é‡æ•°æ®åº“ï¼ˆå¦‚ Pineconeï¼‰                          | å¤šè·¯å¬å› + é‡æ’åºï¼ˆå¦‚ bge-rerankerï¼‰ï¼Œå‡†ç¡®ç‡æå‡ 40%           |

### **æ€»ç»“**
- **é€‰æ‹© Dify**ï¼šé€‚ç”¨äºå¿«é€ŸéªŒè¯ AI åº”ç”¨ã€ä½ä»£ç å¼€å‘ã€å¤šæ¨¡å‹æ··åˆç¼–æ’çš„åœºæ™¯ã€‚
- **é€‰æ‹© RAGFlow**ï¼šé€‚ç”¨äºä¸“ä¸šæ–‡æ¡£å¤„ç†ã€é«˜ç²¾åº¦æ£€ç´¢éœ€æ±‚ã€ä¼ä¸šçº§å®‰å…¨åˆè§„çš„åœºæ™¯ã€‚  


## å‚è€ƒèµ„æ–™
- [Dify README ä¸­æ–‡](https://github.com/langgenius/dify/blob/main/README_CN.md)
- [Dify](https://docs.dify.ai/zh-hans/introduction)
- [Dify ç¯å¢ƒå˜é‡è¯´æ˜](https://docs.dify.ai/zh-hans/getting-started/install-self-hosted/environments)
