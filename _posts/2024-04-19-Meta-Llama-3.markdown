---
layout: post
title:  "Meta Llama 3"
date:   2024-04-19 08:00:00 +0800
categories: Llama LLM
tags: [Llama3, RUG, LlamaGuard, Ollama, LLM]
---

## Llama3

- [æ™ºèƒ½åŠ©æ‰‹ Meta AI](https://www.meta.ai/)
- [Responsible Use Guide](https://ai.meta.com/static-resource/responsible-use-guide/)
- [Trust & Safety](https://llama.meta.com/trust-and-safety/)
- [Meta Blog](https://ai.meta.com/blog/)
- [GitHub: Meta Llama 3](https://github.com/meta-llama/llama3)
- [HuggingChat](https://huggingface.co/chat/)

### æ¨¡å‹
- [Meta-Llama-3-8b](https://huggingface.co/meta-llama/Meta-Llama-3-8B): 8B åŸºç¡€æ¨¡å‹
- [Meta-Llama-3-8b-instruct](https://huggingface.co/meta-llama/Meta-Llama-3-8B-Instruct): 8B åŸºç¡€æ¨¡å‹çš„æŒ‡ä»¤è°ƒä¼˜ç‰ˆ
- [Meta-Llama-3-70b](https://huggingface.co/meta-llama/Meta-Llama-3-70B): 70B åŸºç¡€æ¨¡å‹
- [Meta-Llama-3-70b-instruct](https://huggingface.co/meta-llama/Meta-Llama-3-70B-instruct): 70B åŸºç¡€æ¨¡å‹çš„æŒ‡ä»¤è°ƒä¼˜ç‰ˆ
- [Llama Guard 2](): Llama Guard 2 æ˜¯åŸºäº Llama 3 8B å¾®è°ƒçš„ï¼Œä¸ºç”Ÿäº§ç¯å¢ƒè®¾è®¡çš„ï¼Œèƒ½å¤Ÿå¯¹å¤§è¯­è¨€æ¨¡å‹çš„è¾“å…¥ï¼ˆå³æç¤ºï¼‰å’Œå“åº”è¿›è¡Œåˆ†ç±»ï¼Œä»¥ä¾¿è¯†åˆ«æ½œåœ¨çš„ä¸å®‰å…¨å†…å®¹ã€‚

#### ä¸‹è½½

- [HuggingFace: Meta Llama 3](https://huggingface.co/collections/meta-llama/meta-llama-3-66214712577ca38149ebb2b6)
- [ModelScope: Meta Llama 3](https://www.modelscope.cn/organization/LLM-Research)
- [Ollama: Meta Llama 3](https://ollama.com/library/llama3)

### æ•°æ®é›†
#### [HuggingFaceH4/no_robots](https://huggingface.co/datasets/HuggingFaceH4/no_robots)

No Robots æ˜¯ç”±ç†Ÿç»ƒçš„äººç±»æ³¨é‡Šè€…åˆ›å»ºçš„åŒ…å« 10,000 æ¡æŒ‡ä»¤å’Œæ¼”ç¤ºçš„é«˜è´¨é‡æ•°æ®é›†ã€‚è¯¥æ•°æ®å¯ç”¨äºç›‘ç£å¾®è°ƒï¼ˆSFTï¼‰ï¼Œä½¿è¯­è¨€æ¨¡å‹æ›´å¥½åœ°éµå¾ªæŒ‡ä»¤ã€‚ No Robots æ˜¯æ ¹æ® OpenAI çš„ [InstructGPT è®ºæ–‡](https://huggingface.co/papers/2203.02155)ä¸­æè¿°çš„æŒ‡ä»¤æ•°æ®é›†è¿›è¡Œå»ºæ¨¡çš„ã€‚

### ä»‹ç»
Llama 3 æœ€å¤§çš„å˜åŒ–æ˜¯é‡‡ç”¨äº†æ–°çš„ Tokenizerï¼Œå°†è¯æ±‡è¡¨å¤§å°æ‰©å±•è‡³ 128,256ï¼ˆå‰ç‰ˆæœ¬ä¸º 32,000 Tokenï¼‰ã€‚è¿™ä¸€æ›´å¤§çš„è¯æ±‡åº“èƒ½å¤Ÿæ›´é«˜æ•ˆåœ°ç¼–ç æ–‡æœ¬ï¼ˆæ— è®ºè¾“å…¥è¿˜æ˜¯è¾“å‡ºï¼‰ï¼Œå¹¶æœ‰å¯èƒ½æå‡æ¨¡å‹çš„å¤šè¯­ç§å¤„ç†èƒ½åŠ›ã€‚ä¸è¿‡ï¼Œè¿™ä¹Ÿå¯¼è‡´åµŒå…¥å±‚çš„è¾“å…¥å’Œè¾“å‡ºçŸ©é˜µå°ºå¯¸å¢å¤§ï¼Œè¿™æ˜¯å°å‹æ¨¡å‹å‚æ•°å¢åŠ ï¼ˆä» Llama 2 çš„ 7B å¢è‡³ Llama 3 çš„ 8Bï¼‰çš„ä¸»è¦åŸå› ä¹‹ä¸€ã€‚æ­¤å¤–ï¼Œ8B ç‰ˆæœ¬çš„æ¨¡å‹ç°åœ¨é‡‡ç”¨äº†åˆ†ç»„æŸ¥è¯¢æ³¨æ„åŠ›ï¼ˆGQAï¼‰ï¼Œè¿™æ˜¯ä¸€ç§æ•ˆç‡æ›´é«˜çš„è¡¨è¾¾æ–¹å¼ï¼Œæœ‰åŠ©äºå¤„ç†æ›´é•¿çš„ä¸Šä¸‹æ–‡ã€‚å…·æœ‰ 8000 Token çš„ä¸Šä¸‹æ–‡é•¿åº¦ã€‚

Llama 3 æ¨¡å‹åœ¨ä¸¤ä¸ªæ‹¥æœ‰ 24,000 GPU çš„é›†ç¾¤ä¸Šè¿›è¡Œäº†è®­ç»ƒï¼Œä½¿ç”¨çš„æ˜¯è¶…è¿‡ 15 ä¸‡äº¿ Token çš„æ–°å…¬å…±åœ¨çº¿æ•°æ®ã€‚æˆ‘ä»¬æ— æ³•å¾—çŸ¥è®­ç»ƒæ•°æ®å…·ä½“ç»†èŠ‚ï¼Œä½†å¯ä»¥æ¨æµ‹ï¼Œæ›´å¤§è§„æ¨¡ä¸”æ›´ç»†è‡´çš„æ•°æ®ç­–åˆ’æ˜¯æ€§èƒ½æå‡çš„é‡è¦å› ç´ ã€‚Llama 3 Instruct é’ˆå¯¹å¯¹è¯åº”ç”¨è¿›è¡Œäº†ä¼˜åŒ–ï¼Œç»“åˆäº†è¶…è¿‡ 1000 ä¸‡çš„äººå·¥æ ‡æ³¨æ•°æ®ï¼Œé€šè¿‡ç›‘ç£å¼å¾®è°ƒï¼ˆSFTï¼‰ã€æ‹’ç»é‡‡æ ·ã€é‚»è¿‘ç­–ç•¥ä¼˜åŒ–ï¼ˆPPOï¼‰å’Œç›´æ¥ç­–ç•¥ä¼˜åŒ–ï¼ˆDPOï¼‰è¿›è¡Œè®­ç»ƒã€‚

### [Benchmarks](https://llama.meta.com/llama3/)

![](/images/2024/Llama3/Meta-Llama-3-Instruct-model-performance.png)

### [ä¿¡ä»»ä¸å®‰å…¨](https://llama.meta.com/trust-and-safety/)

#### Responsibility at different layers of the development processï¼ˆå¼€å‘è¿‡ç¨‹ä¸åŒå±‚é¢çš„è´£ä»»ï¼‰
![](/images/2024/Llama3/Responsibility-at-different-layers-of-the-development-process.png)
- [æˆ‘ä»¬å¯¹ Meta AI å’Œ Meta Llama 3 é‡‡å–è´Ÿè´£ä»»çš„æ€åº¦](https://ai.meta.com/blog/meta-llama-3-meta-ai-responsibility/)

#### Responsible LLM Product Development Stages
![](/images/2024/Llama3/Responsible-LLM-Product-Development-Stages.jpeg)

#### Meta Llama Cybersec Eval 2
![](/images/2024/Llama3/Cybersec-Eval-2.jpeg)

#### System-level safeguards
![](/images/2024/Llama3/System-level-safeguards.png)

#### Meta Llama Code Shield
![](/images/2024/Llama3/Meta-Llama-Code-Shield.png)

- [è´Ÿè´£ä»»ä½¿ç”¨æŒ‡å—](https://llama.meta.com/responsible-use-guide/)
- [MLCommons AI Safety](https://mlcommons.org/ai-safety/)
    - [AI Safety Benchmarks](https://mlcommons.org/benchmarks/ai-safety/)
    - [Announcing MLCommons AI Safety v0.5 Proof of Concept](https://mlcommons.org/2024/04/mlc-aisafety-v0-5-poc/)

### A system-level approach to responsibility

![](/images/2024/Llama3/A-system-level-approach-to-responsibility.png)

- [Responsible Use Guide](https://ai.meta.com/static-resource/responsible-use-guide/)
- [Introducing Meta Llama 3: The most capable openly available LLM to date](https://ai.meta.com/blog/meta-llama-3/)

### [Meta Llama Cybersec Eval 2](https://ai.meta.com/research/publications/cyberseceval-2-a-wide-ranging-cybersecurity-evaluation-suite-for-large-language-models/)
- Insecure code practice(generation and autocomplete)ï¼ˆä¸å®‰å…¨çš„ä»£ç å®è·µï¼ˆç”Ÿæˆå’Œè‡ªåŠ¨å®Œæˆï¼‰ï¼‰
- Cyber attacker helpfulnessï¼ˆå¯¹ç½‘ç»œæ”»å‡»è€…çš„å¸®åŠ©ï¼‰
- Code interpreter abuseï¼ˆä»£ç è§£é‡Šå™¨æ»¥ç”¨ï¼‰
- Offensive cybersecurity capabilitiesï¼ˆæ”»å‡»æ€§ç½‘ç»œå®‰å…¨èƒ½åŠ›ï¼‰
- Susceptibility to prompt injectionï¼ˆå¯¹æç¤ºæ³¨å…¥çš„æ˜“æ„Ÿæ€§ï¼‰

### è®¾ç½®æç¤º
åŸºç¡€æ¨¡å‹ä¸å…·å¤‡å›ºå®šçš„æç¤ºæ ¼å¼ã€‚å¦‚åŒå…¶ä»–åŸºç¡€æ¨¡å‹ï¼Œå®ƒä»¬å¯ä»¥ç”¨æ¥å»¶ç»­è¾“å…¥åºåˆ—ï¼Œæä¾›åˆç†çš„ç»­å†™æˆ–è¿›è¡Œé›¶æ ·æœ¬/å°‘æ ·æœ¬æ¨ç†ã€‚è¿™äº›æ¨¡å‹ä¹Ÿæ˜¯æ‚¨è‡ªå®šä¹‰å¾®è°ƒçš„ç†æƒ³åŸºç¡€ã€‚æŒ‡ä»¤ç‰ˆæœ¬é‡‡ç”¨ä»¥ä¸‹å¯¹è¯ç»“æ„ï¼š

```
system

{{ system_prompt }}user

{{ user_msg_1 }}assistant

{{ model_answer_1 }}
```

### ä½¿ç”¨ transformers
è¦åœ¨ transformers ä¸­ä½¿ç”¨ Llama 3 æ¨¡å‹ï¼Œè¯·ç¡®ä¿å®‰è£…äº†æœ€æ–°ç‰ˆæœ¬ï¼š

```python
pip install -U "transformers==4.40.0" --upgrade
```

### LangChain
```python
from langchain_community.llms import Ollama
from langchain_core.prompts import ChatPromptTemplate

chat = Ollama(model="llama3", temperature=0)

system = "You are a helpful assistant that translates {input_language} to {output_language}."
human = "{text}"
prompt = ChatPromptTemplate.from_messages([("system", system), ("human", human)])

chain = prompt | chat
response = chain.invoke(
    {
        "input_language": "English",
        "output_language": "Chinese",
        "text": "I love Python",
    }
)

print('ğŸ¤– ', response)
```

```
I'd be happy to help you with that!

The translation of "I love Python" from English to Chinese is:

"" (WÇ’ Ã i de PÄ«tÅn)

Here's the breakdown:

* "" (wÇ’) means "I"
* "" (Ã i) means "love" or "like"
* "" (de) is a possessive particle indicating that something belongs to someone
* "" (PÄ«tÅn) refers to the programming language Python

So, "" (WÇ’ Ã i de PÄ«tÅn) literally means "I love my Python", but in this context, it's more like saying "I love Python"!
```


## å‚è€ƒèµ„æ–™
- [Getting started with Meta Llama](https://llama.meta.com/docs/get-started/)
- [Build the future of AI with Meta Llama 3](https://llama.meta.com/llama3/)
- [æ¬¢è¿ Llama 3ï¼šMeta çš„æ–°ä¸€ä»£å¼€æºå¤§è¯­è¨€æ¨¡å‹](https://huggingface.co/blog/zh/llama3)
- [HuggingFace: meta-llama/Meta-Llama-3-8B-Instruct](https://huggingface.co/meta-llama/Meta-Llama-3-8B-Instruct)
- [ç™¾äº¿ç¾é‡‘å¼€æºæ¨¡å‹Llama3: å°æœ­æœ€æ–°2ä¸‡å­—è®¿è°ˆæŠ«éœ²ä¸€åˆ‡ Â· å…¨çºªå½•+è§†é¢‘](https://www.163.com/dy/article/J040CCFL05534HHB.html)
- [Meet Your New Assistant: Meta AI, Built With Llama 3](https://about.fb.com/news/2024/04/meta-ai-assistant-built-with-llama-3/)
- [llama-recipes](https://github.com/meta-llama/llama-recipes)
- [OpenEQA: From word models to world models](https://ai.meta.com/blog/openeqa-embodied-question-answering-robotics-ar-glasses/)
- [OpenEQA Embodied Question Answering in the Era of Foundation Models](https://github.com/facebookresearch/open-eqa)
- [Command R+](https://docs.cohere.com/docs/command-r-plus)
- [CohereForAI/c4ai-command-r-plus](https://huggingface.co/CohereForAI/c4ai-command-r-plus)
